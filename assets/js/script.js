class AcademiaVallenato{constructor(){this.currentLang='es';this.visitCount=0;this.pageStats={};this.isMenuOpen=!1;this.init();}
init(){this.setupEventListeners();this.setupNavigation();this.setupLanguageSystem();this.setupStatsSystem();this.setupForms();this.trackVisit();console.log('âœ… Academia Vallenato - Sistema inicializado');}
setupEventListeners(){window.addEventListener('scroll',this.handleScroll.bind(this));document.addEventListener('click',this.handleOutsideClick.bind(this));document.addEventListener('keydown',this.handleKeyboard.bind(this));}
handleScroll(){const e=document.querySelector('.header');e&&e.classList.toggle('scrolled',window.scrollY>100);}
handleOutsideClick(e){const t=document.querySelector('.nav'),o=document.getElementById('menu-toggle');this.isMenuOpen&&!t.contains(e.target)&&!o.contains(e.target)&&this.closeMobileMenu();}
handleKeyboard(e){'Escape'===e.key&&(this.closeMobileMenu(),this.closeStatsPanel());}
setupNavigation(){this.setupMobileMenu();this.setupSmoothScroll();this.setupActiveLinks();}
setupMobileMenu(){const e=document.getElementById('menu-toggle'),t=document.querySelector('.nav');e&&t&&e.addEventListener('click',e=>{e.stopPropagation();this.toggleMobileMenu();});}
toggleMobileMenu(){const e=document.querySelector('.nav'),t=document.getElementById('menu-toggle');e.classList.toggle('active'),this.isMenuOpen=e.classList.contains('active'),t.setAttribute('aria-expanded',this.isMenuOpen);const o=t.querySelectorAll('span');this.isMenuOpen?(o[0].style.transform='rotate(45deg) translate(5px, 5px)',o[1].style.opacity='0',o[2].style.transform='rotate(-45deg) translate(7px, -6px)'):(o[0].style.transform='none',o[1].style.opacity='1',o[2].style.transform='none');}
closeMobileMenu(){const e=document.querySelector('.nav'),t=document.getElementById('menu-toggle');e.classList.remove('active'),this.isMenuOpen=!1,t.setAttribute('aria-expanded','false');const o=t.querySelectorAll('span');o[0].style.transform='none',o[1].style.opacity='1',o[2].style.transform='none';}
setupSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener('click',t=>{const o=e.getAttribute('href');if('#'!==o){t.preventDefault();const n=document.querySelector(o);if(n){const t=document.querySelector('.header')?.offsetHeight||0,o=n.offsetTop-t-20;window.scrollTo({top:o,behavior:'smooth'}),this.isMenuOpen&&this.closeMobileMenu();}}});});}
setupActiveLinks(){const e=document.querySelectorAll('section[id]'),t=document.querySelectorAll('.nav-link'),o=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const o=e.target.getAttribute('id');t.forEach(e=>{e.classList.remove('active'),e.getAttribute('href').includes(o)&&e.classList.add('active');});}});},{threshold:.5,rootMargin:'-100px 0px -100px 0px'});e.forEach(e=>o.observe(e));}
setupLanguageSystem(){this.translations={es:this.getSpanishTranslations(),en:this.getEnglishTranslations()};this.setupLanguageToggle();this.loadLanguagePreference();}
getSpanishTranslations(){return{'hero.title':'Descubre el Alma del Vallenato','hero.subtitle':'Aprende los secretos del acordeÃ³n, la caja y la guacharaca con los mejores maestros de la mÃºsica colombiana.','hero.cta1':'Ver Clases','hero.cta2':'Contactar','about.title':'Sobre la Academia','about.subtitle':'Preservando y enseÃ±ando la tradiciÃ³n vallenata desde 2010','about.mission.title':'Nuestra MisiÃ³n','about.mission.text':'Formar mÃºsicos integrales en el gÃ©nero vallenato, preservando sus raÃ­ces tradicionales mientras incorporamos tÃ©cnicas modernas de enseÃ±anza.','about.vision.title':'Nuestra VisiÃ³n','about.vision.text':'Ser el centro de enseÃ±anza de vallenato mÃ¡s reconocido de Colombia, formando a las nuevas generaciones de acordeoneros y mÃºsicos tradicionales.','about.history.title':'Nuestra Historia','about.history.text':'Fundada en 2010 por el maestro acordeonero Rafael MartÃ­nez, la Academia del Vallenato ha formado a mÃ¡s de 500 mÃºsicos que hoy en dÃ­a llevan nuestra tradiciÃ³n por todo el mundo.','services.title':'Nuestros Servicios','services.subtitle':'Todo lo que necesitas para tu formaciÃ³n musical','services.pedagogy.title':'PedagogÃ­a Musical','services.pedagogy.description':'MetodologÃ­a especializada para niÃ±os, jÃ³venes y adultos. Aprende a tu ritmo con nuestro sistema progresivo.','services.classes.title':'Clases de MÃºsica','services.classes.description':'Clases prÃ¡cticas de acordeÃ³n, caja vallenata, guacharaca, bajo elÃ©ctrico y canto. Enfoque 100% prÃ¡ctico.','services.liveMusic.title':'MÃºsica en Vivo','services.liveMusic.description':'Contrata nuestras agrupaciones vallenatas para eventos privados, bodas, fiestas y presentaciones especiales.','services.learnMore':'MÃ¡s informaciÃ³n','instruments.title':'Instrumentos Vallenatos','instruments.subtitle':'Encuentra los mejores instrumentos para tu prÃ¡ctica musical','instruments.accordion.name':'AcordeÃ³n Hohner Corona II','instruments.accordion.description':'AcordeÃ³n profesional de 34 notas, ideal para vallenato tradicional.','instruments.accordion.price':'$4.500.000 COP','instruments.caja.name':'Caja Vallenata Profesional','instruments.caja.description':'Caja artesanal en madera de roble con parches de cuero natural.','instruments.caja.price':'$350.000 COP','instruments.guacharaca.name':'Guacharaca Tradicional','instruments.guacharaca.description':'Guacharaca artesanal en madera de guayacÃ¡n con rascador de metal.','instruments.guacharaca.price':'$120.000 COP','instruments.viewDetails':'Ver detalles','instruments.seeAll':'Ver todos los instrumentos','testimonials.title':'Testimonios','testimonials.subtitle':'Lo que dicen nuestros estudiantes','testimonials.testimonial1.text':'"La Academia del Vallenato transformÃ³ mi forma de entender la mÃºsica. En 6 meses ya podÃ­a tocar varias canciones tradicionales."','testimonials.testimonial1.author':'Carlos Mendoza','testimonials.testimonial1.role':'Estudiante de acordeÃ³n','testimonials.testimonial2.text':'"Los profesores son excelentes y la metodologÃ­a es muy prÃ¡ctica. Mi hijo de 10 aÃ±os ya toca la guacharaca como un profesional."','testimonials.testimonial2.author':'MarÃ­a GonzÃ¡lez','testimonials.testimonial2.role':'Madre de estudiante','cta.title':'Â¿Listo para comenzar tu viaje musical?','cta.text':'Ãšnete a nuestra comunidad y descubre el fascinante mundo del vallenato.','cta.contact':'ContÃ¡ctanos','cta.classes':'Ver clases','footer.description':'Formando a los mÃºsicos vallenatos del futuro desde 2010.','footer.links.title':'Enlaces rÃ¡pidos','footer.links.home':'Inicio','footer.links.services':'Servicios','footer.links.classes':'Clases','footer.links.instruments':'Instrumentos','footer.links.contact':'Contacto','footer.contact.title':'Contacto','footer.contact.address':'Calle 45 # 12-34, Valledupar, Colombia','footer.newsletter.title':'BoletÃ­n informativo','footer.newsletter.description':'SuscrÃ­bete para recibir noticias sobre cursos y eventos.','footer.newsletter.placeholder':'Tu correo electrÃ³nico','footer.newsletter.subscribe':'Suscribirse','footer.copyright':'Â© 2024 Academia del Vallenato. Todos los derechos reservados.','footer.privacy':'PolÃ­tica de privacidad','footer.terms':'TÃ©rminos de servicio'};}
getEnglishTranslations(){return{'hero.title':'Discover the Soul of Vallenato','hero.subtitle':'Learn the secrets of the accordion, drum, and guacharaca with the best Colombian music teachers.','hero.cta1':'View Classes','hero.cta2':'Contact','about.title':'About the Academy','about.subtitle':'Preserving and teaching the vallenato tradition since 2010','about.mission.title':'Our Mission','about.mission.text':'Train well-rounded musicians in the vallenato genre, preserving its traditional roots while incorporating modern teaching techniques.','about.vision.title':'Our Vision','about.vision.text':'To be the most recognized vallenato teaching center in Colombia, training new generations of accordion players and traditional musicians.','about.history.title':'Our History','about.history.text':'Founded in 2010 by master accordionist Rafael MartÃ­nez, the Vallenato Academy has trained more than 500 musicians who now carry our tradition around the world.','services.title':'Our Services','services.subtitle':'Everything you need for your musical training','services.pedagogy.title':'Music Pedagogy','services.pedagogy.description':'Specialized methodology for children, youth, and adults. Learn at your own pace with our progressive system.','services.classes.title':'Music Classes','services.classes.description':'Practical classes in accordion, vallenato drum, guacharaca, electric bass, and singing. 100% practical approach.','services.liveMusic.title':'Live Music','services.liveMusic.description':'Hire our vallenato groups for private events, weddings, parties, and special presentations.','services.learnMore':'Learn more','instruments.title':'Vallenato Instruments','instruments.subtitle':'Find the best instruments for your musical practice','instruments.accordion.name':'Hohner Corona II Accordion','instruments.accordion.description':'Professional 34-note accordion, ideal for traditional vallenato.','instruments.accordion.price':'$4,500,000 COP','instruments.caja.name':'Professional Vallenato Drum','instruments.caja.description':'Artisanal drum made of oak wood with natural leather patches.','instruments.caja.price':'$350,000 COP','instruments.guacharaca.name':'Traditional Guacharaca','instruments.guacharaca.description':'Artisanal guacharaca made of guayacÃ¡n wood with metal scraper.','instruments.guacharaca.price':'$120,000 COP','instruments.viewDetails':'View details','instruments.seeAll':'View all instruments','testimonials.title':'Testimonials','testimonials.subtitle':'What our students say','testimonials.testimonial1.text':'"The Vallenato Academy transformed my understanding of music. In 6 months I could already play several traditional songs."','testimonials.testimonial1.author':'Carlos Mendoza','testimonials.testimonial1.role':'Accordion student','testimonials.testimonial2.text':'"The teachers are excellent and the methodology is very practical. My 10-year-old son already plays the guacharaca like a professional."','testimonials.testimonial2.author':'MarÃ­a GonzÃ¡lez','testimonials.testimonial2.role':'Student\'s mother','cta.title':'Ready to Start Your Musical Journey?','cta.text':'Join our community and discover the fascinating world of vallenato.','cta.contact':'Contact Us','cta.classes':'View classes','footer.description':'Training the vallenato musicians of the future since 2010.','footer.links.title':'Quick Links','footer.links.home':'Home','footer.links.services':'Services','footer.links.classes':'Classes','footer.links.instruments':'Instruments','footer.links.contact':'Contact','footer.contact.title':'Contact','footer.contact.address':'Street 45 # 12-34, Valledupar, Colombia','footer.newsletter.title':'Newsletter','footer.newsletter.description':'Subscribe to receive news about courses and events.','footer.newsletter.placeholder':'Your email address','footer.newsletter.subscribe':'Subscribe','footer.copyright':'Â© 2024 Vallenato Academy. All rights reserved.','footer.privacy':'Privacy Policy','footer.terms':'Terms of Service'};}
setupLanguageToggle(){const e=document.getElementById('language-toggle'),t=document.querySelector('.language-dropdown'),o=document.querySelectorAll('.language-option');e&&(e.addEventListener('click',e=>{e.stopPropagation();t.classList.toggle('active');}),document.addEventListener('click',()=>{t.classList.remove('active');})),o.forEach(e=>{e.addEventListener('click',t=>{t.preventDefault();const o=e.getAttribute('data-lang');this.changeLanguage(o),document.querySelector('.language-dropdown').classList.remove('active');});});}
changeLanguage(e){if(this.currentLang!==e&&this.translations[e]){this.currentLang=e,this.applyTranslations(),this.saveLanguagePreference(),this.updateLanguageUI();}}
applyTranslations(){document.querySelectorAll('[data-i18n]').forEach(e=>{const t=e.getAttribute('data-i18n');this.translations[this.currentLang][t]&&(e.textContent=this.translations[this.currentLang][t]);}),document.querySelectorAll('[data-i18n-placeholder]').forEach(e=>{const t=e.getAttribute('data-i18n-placeholder');this.translations[this.currentLang][t]&&e.setAttribute('placeholder',this.translations[this.currentLang][t]);});}
updateLanguageUI(){const e=document.getElementById('language-toggle');if(e){const t=e.querySelector('.language-flag'),o=e.querySelector('.language-text');'es'===this.currentLang?(t.textContent='ðŸ‡ªðŸ‡¸',o.textContent='ES'):(t.textContent='ðŸ‡ºðŸ‡¸',o.textContent='EN');}}
saveLanguagePreference(){localStorage.setItem('academia-lang',this.currentLang);}
loadLanguagePreference(){const e=localStorage.getItem('academia-lang');e&&this.translations[e]&&this.changeLanguage(e);}
setupStatsSystem(){this.loadStats();this.setupStatsToggle();this.updateStatsDisplay();}
setupStatsToggle(){const e=document.querySelector('.stats-toggle'),t=document.getElementById('close-stats'),o=document.getElementById('stats-panel');e&&e.addEventListener('click',()=>{o.classList.toggle('visible'),o.removeAttribute('hidden');}),t&&t.addEventListener('click',()=>{this.closeStatsPanel();}),document.addEventListener('click',e=>{o.classList.contains('visible')&&!o.contains(e.target)&&!e.target.closest('.stats-toggle')&&this.closeStatsPanel();});}
closeStatsPanel(){const e=document.getElementById('stats-panel');e.classList.remove('visible'),setTimeout(()=>e.setAttribute('hidden','true'),300);}
trackVisit(){const e=window.location.pathname.split('/').pop()||'index.html';this.visitCount=parseInt(localStorage.getItem('total-visits')||'0')+1,this.pageStats[e]=(parseInt(this.pageStats[e])||0)+1,localStorage.setItem('total-visits',this.visitCount.toString()),localStorage.setItem('page-stats',JSON.stringify(this.pageStats)),this.updateStatsDisplay();}
loadStats(){this.visitCount=parseInt(localStorage.getItem('total-visits')||'0'),this.pageStats=JSON.parse(localStorage.getItem('page-stats')||'{}');}
updateStatsDisplay(){const e=document.getElementById('total-visits'),t=document.getElementById('top-pages');e&&(e.textContent=this.visitCount.toLocaleString()),t&&(this.pageStats=JSON.parse(localStorage.getItem('page-stats')||'{}'));const o=Object.entries(this.pageStats).sort((e,t)=>t[1]-e[1]).slice(0,5);t.innerHTML=o.map(([e,t])=>`<li><span class="page-name">${this.getPageName(e)}</span><span class="page-views">${t}</span></li>`).join('');}
getPageName(e){const t={'index.html':'Inicio','clases.html':'Clases','servicios.html':'Servicios','instrumentos.html':'Instrumentos','contacto.html':'Contacto','musica-en-vivo.html':'MÃºsica en Vivo'};return t[e]||e;}
setupForms(){this.setupContactForm();this.setupNewsletterForm();this.setupNewsletterForms();}
setupContactForm(){const e=document.getElementById('contact-form');e&&e.addEventListener('submit',e=>{e.preventDefault();this.handleContactForm(e.target);});}
setupNewsletterForm(){const e=document.querySelector('.newsletter-form');e&&e.addEventListener('submit',e=>{e.preventDefault();this.handleNewsletterForm(e.target);});}
setupNewsletterForms(){document.querySelectorAll('.newsletter-form').forEach(e=>{e.hasAttribute('data-bound')||(e.setAttribute('data-bound','true'),e.addEventListener('submit',t=>{t.preventDefault();this.handleNewsletterForm(e);}));});}
handleContactForm(e){const t=new FormData(e),o=Object.fromEntries(t);o.name&&o.email&&o.message?(this.showNotification('Â¡Mensaje enviado! Te contactaremos pronto.','success'),e.reset(),this.trackConversion('contact_form')):this.showNotification('Por favor, completa todos los campos requeridos.','error');}
handleNewsletterForm(e){const t=e.querySelector('input[type="email"]').value;this.isValidEmail(t)?(this.showNotification('Â¡Gracias por suscribirte!','success'),e.reset(),this.trackConversion('newsletter_subscription')):this.showNotification('Por favor, ingresa un email vÃ¡lido.','error');}
isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);}
showNotification(e,t='info'){const o=document.createElement('div');o.className=`notification notification-${t}`,o.innerHTML=`<div class="notification-content"><span class="notification-message">${e}</span><button class="notification-close">&times;</button></div>`,o.style.cssText=`position:fixed;top:100px;right:20px;background:${'error'===t?'#f44336':'success'===t?'#4CAF50':'#2196F3'};color:white;padding:1rem;border-radius:4px;box-shadow:0 4px 6px rgba(0,0,0,0.1);z-index:10000;max-width:400px;animation:slideInRight 0.3s ease`,document.body.appendChild(o),setTimeout(()=>{o.parentNode&&(o.style.animation='slideOutRight 0.3s ease',setTimeout(()=>o.remove(),300));},5e3),o.querySelector('.notification-close').addEventListener('click',()=>{o.style.animation='slideOutRight 0.3s ease',setTimeout(()=>o.remove(),300);});}
trackConversion(e){console.log(`ðŸŽ¯ ConversiÃ³n trackeada: ${e}`),typeof gtag!='undefined'&&gtag('event','conversion',{'event_category':'engagement','event_label':e});}
debounce(e,t){let o;return function(...n){const c=()=>{clearTimeout(o),e(...n)};clearTimeout(o),o=setTimeout(c,t);}}
destroy(){console.log('ðŸ§¹ Academia Vallenato - Sistema limpiado');}}
document.addEventListener('DOMContentLoaded',()=>{window.academiaApp=new AcademiaVallenato();document.querySelector('#notification-styles')||(document.head.insertAdjacentHTML('beforeend','<style id="notification-styles">@keyframes slideInRight{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}@keyframes slideOutRight{from{transform:translateX(0);opacity:1}to{transform:translateX(100%);opacity:0}}.notification-close{background:0;border:0;color:#fff;font-size:1.2rem;cursor:pointer;margin-left:1rem}</style>'));});
